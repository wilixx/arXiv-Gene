<!doctype html>

<html>
<head>  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title> Linear optimization </title>

  <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">

<!-- Stylesheet and script related to page content -->
  <link rel="stylesheet" type="text/css" media="screen,portable" href="style/style.css">
  <link rel="stylesheet" type="text/css" media="print" href="style/print-style.css">

  <link rel="stylesheet" type="text/css" href="style/content-formatting.css">

  <link href="images/favicon.png" rel="shortcut icon"> </script>

  <link rel="next" href="Conic_quadratic_optimization.html">
  <link rel="prev" href="The_basics.html">
  <link rel="start" href="index.html">

  <style>
    .breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .pager      div.linebreak { display : inline; width : 1ex; height : 0px; }
    .hacked-breadcrumb { font-size : small; color : gray; }
    .hacked-breadcrumb span.divider { padding : 0px 5px 0px 5px; }
    .hacked-breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .nav        div.linebreak { display : inline; width : 1ex; height : 0px; }
  </style>

  <script type="text/javascript">
    function body_onkeypress(ev)
    {
       var keynum;
       if (window.event) keynum = ev.keyCode;
       else              keynum = ev.which;
       
       if      (keynum == 84 || keynum == 116)
       {
         
           document.location = "index.html";
         
       }
       else if (keynum == 73 || keynum == 105)
       {
         
           document.location = "xref.html";
         
       }
       else
         return keynum;
    }
  </script>
</head>
<body onkeypress="return body_onkeypress(event);">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">      
          <a class="brand" href="http://www.mosek.com">www.mosek.com</a>
          <ul class="nav">
            <li><a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a></li>
          </ul>
          
          <ul class="nav pull-right">
            <li><a href="xref.html">Index</a></li>
          </ul>
          
        </div>
        
        <div class="container hacked-breadcrumb">      
            
              
                
                <a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a><span class="divider">&gt;</span>
              
              <a href="Basic_API_tutorial.html">Basic API tutorial</a><span class="divider">&gt;</span>
            
            Linear optimization
        </div>
        
      </div>
    </div>
  
  <div class="container" style="margin-top : 50px;">
    <div class="container">
      <ul class="pager">
        
          <li class="previous"><a href="The_basics.html">&lt;&lt;&nbsp;The basics</a></li>
        
        
          <li class="next"><a href="Conic_quadratic_optimization.html">Conic quadratic optimization&nbsp;&gt;&gt;</a></li>
        
      </ul>
    </div>
    
    <hr>
    
    <h1> Linear optimization </h2>


    <div style="height : 1em;">&nbsp;</div>

    <div class="container">
      
        <div class="split:no split:no"><div class="par"><a name="@generated-ID:7f36ca22c9c0"></a> The simplest optimization problem is a purely linear problem. A <em>linear optimization problem</em> is a problem of the following form: </div>
<div class="par"> Minimize or maximize the objective function </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq1"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math2.svg" alt=" \sum_{j=0}^{n-1} c_{j} x_{j} + c^{f} "></td><td width="0px">(7.2.1)</td></tr></table></div><div class="par"> subject to the linear constraints </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq2"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math3.svg" alt=" l_{k}^{c} \leq{}\sum_{j=0}^{n-1} a_{kj} x_{j} \leq{} u_{k}^{c},{\ } k=0,\ldots{} ,m-1, "></td><td width="0px">(7.2.2)</td></tr></table></div><div class="par"> and the bounds </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq3"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math4.svg" alt=" l_{j}^{x} \leq{} x_{j} \leq{} u_{j}^{x}, {\ } j=0,\ldots{} ,n-1, "></td><td width="0px">(7.2.3)</td></tr></table></div><div class="par"> where we have used the problem elements: </div>
<dl> 
    <dt><div class="par"><img src="math/math5.svg" alt="m" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> and <img src="math/math6.svg" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f36ca22d750"></a><a name="@generated-ID:7f36ca22d788"></a> which are the number of constraints and variables respectively, </div>
</dd>
<dt><div class="par"><img src="math/math7.svg" alt="x" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f36ca22d7c0"></a> which is the variable vector of length <img src="math/math6.svg" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">, </div>
</dd>
<dt><div class="par"><img src="math/math8.svg" alt="c" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f36ca226bb8"></a> which is a coefficient vector of size <img src="math/math6.svg" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math9.svg" alt=" c = \left[{} \begin{array}{c} \displaystyle{} c_{0} \\[0pt] \displaystyle{} \\[0pt] \displaystyle{} c_{n-1} \\[0pt] \end{array} \right]{}, "></td><td></td></tr></table></div></dd>
<dt><div class="par"><img src="math/math10.svg" alt="c^{f}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par">which is a constant,</div>
</dd>
<dt><div class="par"><img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f36ca25a368"></a> which is a <img src="math/math11.svg" alt="m{\times}n" style="position : relative; bottom : -1px" class="inline-math inline-math-svg"> matrix of coefficients is given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math12.svg" alt=" A = \left[{} \begin{array}{ccc} \displaystyle{} a_{0,0} &\displaystyle{} \cdots{}&\displaystyle{} a_{0,(n-1)} \\[0pt] \displaystyle{} &\displaystyle{} \cdots{}&\displaystyle{} \\[0pt] \displaystyle{} a_{(m-1),0} &\displaystyle{} \cdots{}&\displaystyle{} a_{(m-1),(n-1)} \\[0pt] \end{array} \right]{}, "></td><td></td></tr></table></div></dd>
<dt><div class="par"><img src="math/math13.svg" alt="l^{c}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> and <img src="math/math14.svg" alt="u^{c}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:51e5590"></a><a name="@generated-ID:51e55c8"></a> which specify the lower and upper bounds on constraints respectively, and </div>
</dd>
<dt><div class="par"><img src="math/math15.svg" alt="l^{x}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> and <img src="math/math16.svg" alt="u^{x}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:51e5600"></a><a name="@generated-ID:51e5638"></a> which specifies the lower and upper bounds on variables respectively. </div>
</dd>
</dl><div class="par"> Please note the unconventional notation using <img src="math/math17.svg" alt="0" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> as the  first index rather than <img src="math/math18.svg" alt="1" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">. Hence, <img src="math/math19.svg" alt="x_{0}" style="position : relative; bottom : -2px" class="inline-math inline-math-svg"> is the first element in variable vector <img src="math/math7.svg" alt="x" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">. This  convention has been adapted from Python arrays which are indexed from 0. </div>
</div>
      

      
        <h2><a name="section-node-_Basic%20API%20tutorial_Linear%20optimization_Example:%20Linear%20optimization">7.2.1 Example: Linear optimization</a></h2><div class="par"><a name="@generated-ID:51e5670"></a> The following is an example of a linear optimization problem: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math20.svg" alt=" \begin{array}{lccccccccl} \displaystyle{} \mbox{maximize}&\displaystyle{} 3 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 5 x_{2} &\displaystyle{} + &\displaystyle{} 1 x_{3} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} 3 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 2 x_{2} &\displaystyle{} &\displaystyle{} &\displaystyle{} = &\displaystyle{} 30, \\[0pt] \displaystyle{} &\displaystyle{} 2 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 3 x_{2} &\displaystyle{} + &\displaystyle{} 1 x_{3} &\displaystyle{} \geq{}&\displaystyle{} 15, \\[0pt] \displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} 2 x_{1} &\displaystyle{} &\displaystyle{} &\displaystyle{} + &\displaystyle{} 3 x_{3} &\displaystyle{} \leq{}&\displaystyle{} 25, \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> having the bounds </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math21.svg" alt=" \begin{array}{ccccc} \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{0} &\displaystyle{} \leq{}&\displaystyle{} \infty{} , \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{1} &\displaystyle{} \leq{}&\displaystyle{} 10, \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{2} &\displaystyle{} \leq{}&\displaystyle{} \infty{} , \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{3} &\displaystyle{} \leq{}&\displaystyle{} \infty{} . \\[0pt] \end{array} "></td><td></td></tr></table></div><h3><a name="section-node-_Basic%20API%20tutorial_Linear%20optimization_Example:%20Linear%20optimization_Solving%20the%20problem">7.2.1.1 Solving the problem</a></h3><div class="par"> To solve the problem above we go through the following steps: </div>
<ul class="enumerate"> 
        <li><div class="par"> Create an environment. </div>
</li>
<li><div class="par"> Create an optimization task. </div>
</li>
<li><div class="par"> Load a problem into the task object. </div>
</li>
<li><div class="par"> Optimization. </div>
</li>
<li><div class="par"> Extracting the solution. </div>
</li>
</ul><div class="par"> Below we explain each of these steps. For the complete source code see section <a href="#ref-lo1-source">7.2.1.2</a>. </div>
<dl> 
      <dt><div class="par">Create an environment.</div>
</dt>
<dd><div class="par"> Before setting up the optimization problem, a MOSEK environment must be  created. All tasks in the program should share the same environment. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="31" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Make mosek environment</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">with</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span>() <span class="language-syntax-keyword">as</span> <span class="language-syntax-text">env</span>:&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Create an optimization task.</div>
</dt>
<dd><div class="par"> Next, an empty task object is created: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="33" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Create a task object</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">with</span> <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>(<span class="language-syntax-text">0</span>,<span class="language-syntax-text">0</span>) <span class="language-syntax-keyword">as</span> <span class="language-syntax-text">task</span>:&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a log stream printer to the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li></ol></pre><div class="par"> We also connect a call-back function to the task log stream. Messages  related to the task are passed to the call-back function. In this case  the stream call-back function writes its messages to the standard output  stream. </div>
</dd>
<dt><div class="par">Load a problem into the task object.</div>
</dt>
<dd><div class="par"> Before any problem data can be set, variables and constraints must be added  to the problem via calls to the functions <tt><a href="Task_appendcons_.html">Task.appendcons</a></tt> and <tt><a href="Task_appendvars_.html">Task.appendvars</a></tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="74" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># The constraints will initially have no bounds. </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li></ol></pre><div class="par"> New variables can now be referenced from other functions with indexes in  <img src="math/math22.svg" alt="0, \ldots{}, \mathtt{numvar}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> and new constraints can be referenced  with indexes in <img src="math/math23.svg" alt="0, \ldots{} , \mathtt{numcon}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-svg">. More variables / constraints can  be appended later as needed, these will be assigned indexes from  <img src="math/math24.svg" alt="\mathtt{numvar}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">/<img src="math/math25.svg" alt="\mathtt{numcon}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> and up. </div>
<div class="par"> Next step is to set the problem data. We loop over each variable index  <img src="math/math26.svg" alt="j=0, \ldots{}, \mathtt{numvar}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> calling functions to set problem  data. We first set the objective coefficient <img src="math/math27.svg" alt="c_{j} = \mathtt{c[j]}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"> by calling the function <tt><a href="Task_putcj_.html">Task.putcj</a></tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="84" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li></ol></pre><div class="par"> The bounds on variables are stored in the arrays </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="47" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Bound keys for variables</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">bkx</span> = [<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">       <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">ra</span>,&nbsp;</span></li><li><span class="language-syntax-text">       <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">       <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Bound values for variables</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">blx</span> = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>]&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">bux</span> = [+<span class="language-syntax-text">inf</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>, +<span class="language-syntax-text">inf</span>, +<span class="language-syntax-text">inf</span>]&nbsp;</span></li></ol></pre><div class="par"> and are set with calls to <tt><a href="Task_putvarbound_.html">Task.putvarbound</a></tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="86" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">putvarbound</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li></ol></pre><div class="par"> The <em>Bound key</em> stored in <tt>bkx</tt> specify the type of the bound  according to Table <a href="#CH:API:TAB:BOUNDKEYS2">7.2.1.1.1</a>. </div>
<div class="table nofloat-element"><center><table class="nofloat-content"><tr><td class="float-body"><div style="text-align : center;"><div style="display : inline-block;" class="table-container"><table class="generic-table"><tr class="table-row-0"><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"> Bound key </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-1"><div class="par"> Type of bound </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Lower bound </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Upper bound </div>
</td></tr><tr class="table-row-1"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt><a href="Bound_keys.html#mskitem:boundkey.fx">boundkey.fx</a></tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math28.svg" alt="\cdots{} = l_{j}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Identical to the lower bound </div>
</td></tr><tr class="table-row-2"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt><a href="Bound_keys.html#mskitem:boundkey.fr">boundkey.fr</a></tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"> Free </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Minus infinity </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Plus infinity </div>
</td></tr><tr class="table-row-3"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt><a href="Bound_keys.html#mskitem:boundkey.lo">boundkey.lo</a></tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math29.svg" alt="l_{j} \leq{}\cdots{}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Plus infinity </div>
</td></tr><tr class="table-row-4"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt><a href="Bound_keys.html#mskitem:boundkey.ra">boundkey.ra</a></tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math30.svg" alt="l_{j} \leq{}\cdots{}\leq{} u_{j} " style="position : relative; bottom : -4px" class="inline-math inline-math-svg"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Finite </div>
</td></tr><tr class="table-row-5"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt><a href="Bound_keys.html#mskitem:boundkey.up">boundkey.up</a></tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math31.svg" alt="\cdots{}\leq{} u_{j}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Minus infinity </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Finite </div>
</td></tr></table></div></div></td></tr><tr><td class="float-caption">Tab. 7.2.1.1.1. Interpretation of the bound keys.</td></tr></table></center></div><div class="par"> For instance <tt>bkx[0]=</tt><tt><a href="Bound_keys.html#mskitem:boundkey.lo">boundkey.lo</a></tt> means that <img src="math/math32.svg" alt="x_{0} \geq{} l_{0}^{x}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg">. Finally, the numerical values of the bounds on variables  are given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math33.svg" alt=" l_{j}^{x} = \mathtt{blx[j]}"></td><td></td></tr></table></div><div class="par"> and </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math34.svg" alt=" u_{j}^{x} = \mathtt{bux[j]}. "></td><td></td></tr></table></div><div class="par"> Recall that in our example the <img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> matrix is given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math35.svg" alt=" A = \left[{} \begin{array}{cccc} \displaystyle{} 3 &\displaystyle{} 1 &\displaystyle{} 2 &\displaystyle{} 0 \\[0pt] \displaystyle{} 2 &\displaystyle{} 1 &\displaystyle{} 3 &\displaystyle{} 1 \\[0pt] \displaystyle{} 0 &\displaystyle{} 2 &\displaystyle{} 0 &\displaystyle{} 3 \\[0pt] \end{array} \right]{}. "></td><td></td></tr></table></div><div class="par"> This matrix is stored in sparse format in the arrays: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="62" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">asub</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>])]&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">aval</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>]) ]&nbsp;</span></li></ol></pre><div class="par"> The array <tt>aval[j]</tt> contains the non-zero values of column <img src="math/math36.svg" alt="j" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> and <tt>asub[j]</tt> contains the row index of these  non-zeros. </div>
<div class="par"> Using the function <tt><a href="Task_putacol_.html">Task.putacol</a></tt> we set column <img src="math/math36.svg" alt="j" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> of <img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="91" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">putacol</span>(<span class="language-syntax-text">j</span>,                  <span class="language-syntax-comment"># Variable (column) index.</span>&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">j</span>],            <span class="language-syntax-comment"># Row index of non-zeros in column j.</span>&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">j</span>])            <span class="language-syntax-comment"># Non-zero Values of column j. </span>&nbsp;</span></li></ol></pre><div class="par"> Alternatively, the same <img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> matrix can be set one row at a time;  please see section <a href="#ref-lo2-ex">7.2.2</a> for an example. </div>
<div class="par"> Finally, the bounds on each constraint are set by looping over each constraint index <img src="math/math37.svg" alt="i= 0, \ldots{},\mathtt{numcon}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="95" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment"># Set the bounds on constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># blc[i] &lt;= constraint_i &lt;= buc[i]</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putconbound</span>(<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Optimization:</div>
</dt>
<dd><div class="par"> After the problem is set-up the task can be optimized by calling the function <tt><a href="Task_optimize_.html">Task.optimize</a></tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="104" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Extracting the solution.</div>
</dt>
<dd><div class="par"> After optimizing the status of the  solution is examined with a call to  <tt><a href="Task_getsolsta_.html">Task.getsolsta</a></tt>. If the solution status is  reported as <tt><a href="Solution_status_keys.html#mskitem:solsta.optimal">solsta.optimal</a></tt> or  <tt><a href="Solution_status_keys.html#mskitem:solsta.near_optimal">solsta.near_optimal</a></tt> the solution is extracted in  the lines below: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="115" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>, <span class="language-syntax-comment"># Request the basic solution. </span>&nbsp;</span></li><li><span class="language-syntax-text">           <span class="language-syntax-text">xx</span>)&nbsp;</span></li></ol></pre><div class="par"> The <tt><a href="Task_getxx_.html">Task.getxx</a></tt> function obtains the solution. MOSEK may compute several  solutions depending on the optimizer employed. In this example the <em>basic solution</em> is requested by setting the first argument to <tt><a href="Solution_types.html#mskitem:soltype.bas">soltype.bas</a></tt>. </div>
</dd>
</dl><h3><a name="ref-lo1-source">7.2.1.2 Source code for lo1</a></h3><div class="par"><a name="@generated-ID:7f36c8af8250"></a><a name="@generated-ID:7f36c8af8288"></a><a name="@generated-ID:7f36c8af82c0"></a><a name="@generated-ID:7f36c8af82f8"></a></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.py">Download lo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  File:    lo1.py</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Purpose: Demonstrates how to solve small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#           optimization problem using the MOSEK Python API.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">from</span> <span class="language-syntax-text">__future__</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">with_statement</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">sys</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">mosek</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># If numpy is installed, use that, otherwise use the </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Mosek's array module.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">numpy</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>,<span class="language-syntax-text">zeros</span>,<span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">ImportError</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">array</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>, <span class="language-syntax-text">zeros</span>, <span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Since the value of infinity is ignored, we define it solely</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># for symbolic purposes</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">inf</span> = <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Define a stream printer to grab output from MOSEK</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">streamprinter</span>(<span class="language-syntax-text">text</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">write</span>(<span class="language-syntax-text">text</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">flush</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">main</span> ():&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Make mosek environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">with</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span>() <span class="language-syntax-keyword">as</span> <span class="language-syntax-text">env</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Create a task object</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">with</span> <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>(<span class="language-syntax-text">0</span>,<span class="language-syntax-text">0</span>) <span class="language-syntax-keyword">as</span> <span class="language-syntax-text">task</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Attach a log stream printer to the task</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Bound keys for constraints</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">bkc</span> = [<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fx</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">up</span>]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Bound values for constraints</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">blc</span> = [<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">15</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">inf</span>]&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">buc</span> = [<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>, +<span class="language-syntax-text">inf</span>, <span class="language-syntax-text">25</span>.<span class="language-syntax-text">0</span>]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Bound keys for variables</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">bkx</span> = [<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">ra</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Bound values for variables</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">blx</span> = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>]&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">bux</span> = [+<span class="language-syntax-text">inf</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>, +<span class="language-syntax-text">inf</span>, +<span class="language-syntax-text">inf</span>]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Objective coefficients</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">c</span> = [ <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">5</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ] &nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Below is the sparse representation of the A</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># matrix stored by column. </span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">asub</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>])]&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">aval</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>]) ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkx</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkc</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># The constraints will initially have no bounds. </span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li><li><span class="language-syntax-text">            &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numvar</span>):&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-comment"># Set the linear term c_j in the objective.</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putvarbound</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-comment"># Input column j of A </span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putacol</span>(<span class="language-syntax-text">j</span>,                  <span class="language-syntax-comment"># Variable (column) index.</span>&nbsp;</span></li><li><span class="language-syntax-text">                     <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">j</span>],            <span class="language-syntax-comment"># Row index of non-zeros in column j.</span>&nbsp;</span></li><li><span class="language-syntax-text">                     <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">j</span>])            <span class="language-syntax-comment"># Non-zero Values of column j. </span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Set the bounds on constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># blc[i] &lt;= constraint_i &lt;= buc[i]</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putconbound</span>(<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Input the objective sense (minimize/maximize)</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">maximize</span>)&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Solve the problem</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># about the solution for debugging purposes</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">task</span>.<span class="language-syntax-text">solutionsummary</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">msg</span>)&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment"># Get status information about the solution</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">solsta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getsolsta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">optimal</span> <span class="language-syntax-keyword">or</span> &nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_optimal</span>):&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>, <span class="language-syntax-comment"># Request the basic solution. </span>&nbsp;</span></li><li><span class="language-syntax-text">                   <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Optimal solution: %s"</span> % <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">elif</span> (<span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">dual_infeas_cer</span> <span class="language-syntax-keyword">or</span>&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">prim_infeas_cer</span> <span class="language-syntax-keyword">or</span>&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_dual_infeas_cer</span> <span class="language-syntax-keyword">or</span>&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_prim_infeas_cer</span>):&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility certificate found.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">unknown</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Unknown solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">else</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Other solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># call the main function</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">main</span> ()&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Exception</span>, <span class="language-syntax-text">e</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"ERROR: %s"</span> % <span class="language-syntax-language">str</span>(<span class="language-syntax-text">e</span>.<span class="language-syntax-text">errno</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">e</span>.<span class="language-syntax-text">msg</span> <span class="language-syntax-keyword">is</span> <span class="language-syntax-keyword">not</span> <span class="language-syntax-language">None</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"\t%s"</span> % <span class="language-syntax-text">e</span>.<span class="language-syntax-text">msg</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">0</span>)&nbsp;</span></li></ol></pre><h2><a name="ref-lo2-ex">7.2.2 Row-wise input</a></h2><div class="par"><a name="@generated-ID:5160720"></a> In the previous example the <img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> matrix is set one  column at a time. Alternatively the same matrix can be set one row at a  time or the two methods can be mixed as in the example in section  <a href="Problem_modification_and_reoptimization.html">7.10</a>. The following example show how to set the  <img src="math/math1.svg" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> matrix by rows. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo2.py">Download lo2.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  File:    lo2.py</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Purpose: Demonstrates how to solve small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#           optimization problem using the MOSEK Python API.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">sys</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">mosek</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># If numpy is installed, use that, otherwise use the </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Mosek's array module.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">numpy</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>,<span class="language-syntax-text">zeros</span>,<span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">ImportError</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">array</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>, <span class="language-syntax-text">zeros</span>, <span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Since the actual value of Infinity is ignores, we define it solely</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># for symbolic purposes:</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">inf</span> = <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Define a stream printer to grab output from MOSEK</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">streamprinter</span>(<span class="language-syntax-text">text</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">write</span>(<span class="language-syntax-text">text</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">flush</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># We might write everything directly as a script, but it looks nicer</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># to create a function.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">main</span> ():&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Make a MOSEK environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span> = <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span> ()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Create a task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span> = <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>(<span class="language-syntax-text">0</span>,<span class="language-syntax-text">0</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Bound keys for constraints</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkc</span> = [<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fx</span>,&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">up</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Bound values for constraints</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blc</span> = [<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">15</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">inf</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">buc</span> = [<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>, +<span class="language-syntax-text">inf</span>, <span class="language-syntax-text">25</span>.<span class="language-syntax-text">0</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Bound keys for variables</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkx</span> = [<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">ra</span>,&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">         <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Bound values for variables</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blx</span> = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bux</span> = [+<span class="language-syntax-text">inf</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>, +<span class="language-syntax-text">inf</span>, +<span class="language-syntax-text">inf</span>]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Objective coefficients</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">c</span> = [ <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">5</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ] &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># We input the A matrix column-wise</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># asub contains row indexes</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">asub</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>]),&nbsp;</span></li><li><span class="language-syntax-text">           <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>, <span class="language-syntax-text">3</span>]),&nbsp;</span></li><li><span class="language-syntax-text">           <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>])]&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># acof contains coefficients</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">aval</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">           <span class="language-syntax-text">array</span>([<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]),&nbsp;</span></li><li><span class="language-syntax-text">           <span class="language-syntax-text">array</span>([<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>])]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkc</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The constraints will initially have no bounds. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">     &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">#Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numvar</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the linear term c_j in the objective.</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">var</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">con</span>,<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Input row i of A </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putarow</span>(<span class="language-syntax-text">i</span>,                     <span class="language-syntax-comment"># Row index.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">i</span>],               <span class="language-syntax-comment"># Column indexes of non-zeros in row i.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">i</span>]);              <span class="language-syntax-comment"># Non-zero Values of row i. </span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Input the objective sense (minimize/maximize)</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">maximize</span>)&nbsp;</span></li><li><span class="language-syntax-text">       &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Optimize the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># about the solution for debugging purposes</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">solutionsummary</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">msg</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">prosta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getprosta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">solsta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getsolsta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Output a solution</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">bas</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">optimal</span> <span class="language-syntax-keyword">or</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_optimal</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Optimal solution: %s"</span> % <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">dual_infeas_cer</span>: &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_dual_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span>  <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">unknown</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Unknown solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">else</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Other solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># call the main function</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">main</span> ()&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Exception</span>, (<span class="language-syntax-text">code</span>,<span class="language-syntax-text">msg</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"ERROR: %s"</span> % <span class="language-syntax-language">str</span>(<span class="language-syntax-text">code</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">msg</span> <span class="language-syntax-keyword">is</span> <span class="language-syntax-keyword">not</span> <span class="language-syntax-language">None</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"\t%s"</span> % <span class="language-syntax-text">msg</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">0</span>)&nbsp;</span></li></ol></pre>
      
    </div>

    <div style="height : 1em;">&nbsp;</div>
    <hr>
    <ul class="pager">
      
        <li class="previous"><a href="The_basics.html">Previous : The basics</a></li>
      
      
        <li class="next"><a href="Conic_quadratic_optimization.html">Next : Conic quadratic optimization</a></li>
      
    </ul>
    <hr>

    
    <div id="template-footer" style="text-align : right;">
      Copyright &copy; Mosek ApS.
    </div>

    <script src="script/jquery-1.9.0.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Google Analytics tracking stuff-->
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript">
        try
        {
            var pageTracker = _gat._getTracker("UA-3864116-1");
            pageTracker._trackPageview();
        } 
        catch(err) 
        {}
    </script>

  </div>
</body>

</html>


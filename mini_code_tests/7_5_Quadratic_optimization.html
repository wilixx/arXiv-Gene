<!doctype html>

<html>
<head>  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title> Quadratic optimization </title>

  <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">

<!-- Stylesheet and script related to page content -->
  <link rel="stylesheet" type="text/css" media="screen,portable" href="style/style.css">
  <link rel="stylesheet" type="text/css" media="print" href="style/print-style.css">

  <link rel="stylesheet" type="text/css" href="style/content-formatting.css">

  <link href="images/favicon.png" rel="shortcut icon"> </script>

  <link rel="next" href="The_solution_summary.html">
  <link rel="prev" href="Semidefinite_optimization.html">
  <link rel="start" href="index.html">

  <style>
    .breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .pager      div.linebreak { display : inline; width : 1ex; height : 0px; }
    .hacked-breadcrumb { font-size : small; color : gray; }
    .hacked-breadcrumb span.divider { padding : 0px 5px 0px 5px; }
    .hacked-breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .nav        div.linebreak { display : inline; width : 1ex; height : 0px; }
  </style>

  <script type="text/javascript">
    function body_onkeypress(ev)
    {
       var keynum;
       if (window.event) keynum = ev.keyCode;
       else              keynum = ev.which;
       
       if      (keynum == 84 || keynum == 116)
       {
         
           document.location = "index.html";
         
       }
       else if (keynum == 73 || keynum == 105)
       {
         
           document.location = "xref.html";
         
       }
       else
         return keynum;
    }
  </script>
</head>
<body onkeypress="return body_onkeypress(event);">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">      
          <a class="brand" href="http://www.mosek.com">www.mosek.com</a>
          <ul class="nav">
            <li><a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a></li>
          </ul>
          
          <ul class="nav pull-right">
            <li><a href="xref.html">Index</a></li>
          </ul>
          
        </div>
        
        <div class="container hacked-breadcrumb">      
            
              
                
                <a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a><span class="divider">&gt;</span>
              
              <a href="Basic_API_tutorial.html">Basic API tutorial</a><span class="divider">&gt;</span>
            
            Quadratic optimization
        </div>
        
      </div>
    </div>
  
  <div class="container" style="margin-top : 50px;">
    <div class="container">
      <ul class="pager">
        
          <li class="previous"><a href="Semidefinite_optimization.html">&lt;&lt;&nbsp;Semidefinite optimization</a></li>
        
        
          <li class="next"><a href="The_solution_summary.html">The solution summary&nbsp;&gt;&gt;</a></li>
        
      </ul>
    </div>
    
    <hr>
    
    <h1> Quadratic optimization </h2>


    <div style="height : 1em;">&nbsp;</div>

    <div class="container">
      
        <div class="split:no split:no"><div class="par"><a name="@generated-ID:581b8d8"></a><a name="@generated-ID:581b910"></a><a name="@generated-ID:581b948"></a>MOSEK can solve quadratic and quadratically constrained convex problems.  This class of problems can be formulated as follows: </div>
<div class="math-equation"><a name="ch-api-ex-sec-convexity"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math76.svg" alt=" \begin{array}{lrcccll} \displaystyle{} \mbox{minimize}&\displaystyle{} &\displaystyle{} &\displaystyle{} \frac{1}{2} x^{T} Q^{o} x + c^{T} x + c^{f} &\displaystyle{} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} l_{k}^{c} &\displaystyle{} \leq{}&\displaystyle{} \frac{1}{2} x^{T} Q^{k} x + \sum_{j=0}^{n-1} a_{k,j} x_{j} &\displaystyle{} \leq{}&\displaystyle{} u_{k}^{c}, &\displaystyle{} k =0,\ldots{} ,m-1, \\[0pt] \displaystyle{} &\displaystyle{} l_{j}^{x} &\displaystyle{} \leq{}&\displaystyle{} x_{j} &\displaystyle{} \leq{}&\displaystyle{} u_{j}^{x}, &\displaystyle{} j=0,\ldots{} ,n-1. \\[0pt] \end{array} "></td><td width="0px">(7.5.1)</td></tr></table></div><div class="par"> Without loss of generality it is assumed that <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> and  <img src="math/math78.svg" alt="Q^{k}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> are all symmetric because </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math79.svg" alt=" x^{T} Q x = 0.5x^{T}(Q+Q^{T})x. "></td><td></td></tr></table></div><div class="par"> This implies that a non-symmetric <img src="math/math80.svg" alt="Q" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> can be replaced by the  symmetric matrix <img src="math/math81.svg" alt="\frac{1}{2}(Q+Q^{T})" style="position : relative; bottom : -5px" class="inline-math inline-math-svg">. </div>
<div class="par"> The problem is required to be convex. More precisely, the matrix  <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> must be positive semi-definite and the <img src="math/math82.svg" alt="k" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">th constraint  must be of the form </div>
<div class="math-equation"><a name="ch-api-ex-convex-qcqo-less"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math83.svg" alt=" l_{k}^{c} \leq{}\frac{1}{2} x^{T} Q^{k} x + \sum_{j=0}^{n-1} a_{k,j} x_{j} "></td><td width="0px">(7.5.2)</td></tr></table></div><div class="par"> with a negative semi-definite <img src="math/math78.svg" alt="Q^{k}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> or of the form </div>
<div class="math-equation"><a name="ch-api-ex-convex-qcqo-greater"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math84.svg" alt=" \frac{1}{2} x^{T} Q^{k} x + \sum_{j=0}^{n-1} a_{k,j} x_{j} \leq{} u_{k}^{c}. "></td><td width="0px">(7.5.3)</td></tr></table></div><div class="par"> with a positive semi-definite <img src="math/math78.svg" alt="Q^{k}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg">. This implies that quadratic  equalities are <em>not</em> allowed. Specifying a non-convex problem will  result in an error when the optimizer is called. </div>
</div>
      

      
        <h2><a name="chap:mosekapi:sec:quadratic_objective">7.5.1 Example: Quadratic objective</a></h2><div class="par"><a name="@generated-ID:7f36c8d19a98"></a><a name="@generated-ID:7f36c8d19ad0"></a><a name="@generated-ID:7f36c8d19b08"></a> The following is an example of a quadratic, linearly constrained problem: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math85.svg" alt=" \begin{array}{lcccl} \displaystyle{} \mbox{minimize}&\displaystyle{} &\displaystyle{} &\displaystyle{} x_{1}^{2} + 0.1 x_{2}^{2} + x_{3}^{2} - x_{1} x_{3} - x_{2} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} 1 &\displaystyle{} \leq{}&\displaystyle{} x_{1} + x_{2} + x_{3} &\displaystyle{} \\[0pt] \displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} x \geq{} 0 &\displaystyle{} \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> This can be written equivalently as </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math86.svg" alt=" \begin{array}{lccl} \displaystyle{} \mbox{minimize}&\displaystyle{} 1/2 x^{T} Q^{o} x + c^{T} x &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} A x &\displaystyle{} \geq{}&\displaystyle{} b \\[0pt] \displaystyle{} &\displaystyle{} x &\displaystyle{} \geq{}&\displaystyle{} 0, \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> where </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math87.svg" alt=" Q^{o} = \left[{} \begin{array}{ccc} \displaystyle{} 2 &\displaystyle{} 0 &\displaystyle{} -1 \\[0pt] \displaystyle{} 0 &\displaystyle{} 0.2 &\displaystyle{} 0 \\[0pt] \displaystyle{} -1 &\displaystyle{} 0 &\displaystyle{} 2 \\[0pt] \end{array} \right]{}, c = \left[{} \begin{array}{c} \displaystyle{} 0 \\[0pt] \displaystyle{} -1 \\[0pt] \displaystyle{} 0 \\[0pt] \end{array} \right]{}, A = \left[{} \begin{array}{ccc} \displaystyle{} 1 &\displaystyle{} 1 &\displaystyle{} 1 \\[0pt] \end{array} \right]{}, \mbox{ and } b = 1. "></td><td></td></tr></table></div><div class="par"> Please note that MOSEK always assumes that there is a <img src="math/math88.svg" alt="1/2" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"> in front  of the <img src="math/math89.svg" alt="x^{T} Q x" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> term in the objective. Therefore, the <img src="math/math18.svg" alt="1" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> in  front of <img src="math/math90.svg" alt="x_{0}^{2}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"> becomes <img src="math/math91.svg" alt="2" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> in <img src="math/math80.svg" alt="Q" style="position : relative; bottom : -3px" class="inline-math inline-math-svg">, i.e.  <img src="math/math92.svg" alt="Q_{0,0}^{o}=2" style="position : relative; bottom : -6px" class="inline-math inline-math-svg">. </div>
<h3><a name="section-node-_Basic%20API%20tutorial_Quadratic%20optimization_Example:%20Quadratic%20objective_Source%20code">7.5.1.1 Source code</a></h3><div class="par"><a name="@generated-ID:52afef8"></a></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/qo1.py">Download qo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#   Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#   File:    qo1.py</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#   Purpose: Demonstrate how to solve a quadratic</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#            optimization problem using the MOSEK Python API.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">sys</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">os</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">mosek</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># If numpy is installed, use that, otherwise use the </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Mosek's array module.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">numpy</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>,<span class="language-syntax-text">zeros</span>,<span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">ImportError</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">array</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>, <span class="language-syntax-text">zeros</span>, <span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Since the actual value of Infinity is ignores, we define it solely</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># for symbolic purposes:</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">inf</span> = <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Define a stream printer to grab output from MOSEK</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">streamprinter</span>(<span class="language-syntax-text">text</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">write</span>(<span class="language-syntax-text">text</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">flush</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># We might write everything directly as a script, but it looks nicer</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># to create a function.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">main</span> ():&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Open MOSEK and create an environment and task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Make a MOSEK environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span> = <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span> ()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Create a task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span> = <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Set up and input bounds and linear coefficients</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkc</span>   = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blc</span>   = [ <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">buc</span>   = [ <span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkx</span>   = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blx</span>   = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bux</span>   = [ <span class="language-syntax-text">inf</span>,  <span class="language-syntax-text">inf</span>, <span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">c</span>     = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">asub</span>  = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>])  ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">aval</span>  = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]), <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]), <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>])]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkc</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The constraints will initially have no bounds.  </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numvar</span>):&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Set the linear term c_j in the objective.</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">var</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Input column j of A </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putacol</span>( <span class="language-syntax-text">j</span>,                  <span class="language-syntax-comment"># Variable (column) index.</span>&nbsp;</span></li><li><span class="language-syntax-text">                  <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">j</span>],            <span class="language-syntax-comment"># Row index of non-zeros in column j.</span>&nbsp;</span></li><li><span class="language-syntax-text">                  <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">j</span>])            <span class="language-syntax-comment"># Non-zero Values of column j. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">con</span>,<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Input the objective sense (minimize/maximize)</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">maximize</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Set up and input quadratic objective</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubi</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">2</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubj</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qval</span>  = [ <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">2</span>, -<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putqobj</span>(<span class="language-syntax-text">qsubi</span>,<span class="language-syntax-text">qsubj</span>,<span class="language-syntax-text">qval</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">minimize</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Optimize</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># about the solution for debugging purposes</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">solutionsummary</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">msg</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">prosta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getprosta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">solsta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getsolsta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Output a solution</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>,&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">optimal</span> <span class="language-syntax-keyword">or</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_optimal</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Optimal solution: %s"</span> % <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">dual_infeas_cer</span>: &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_dual_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span>  <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">unknown</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Unknown solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">else</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Other solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># call the main function</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">main</span>()&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Exception</span>, <span class="language-syntax-text">e</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"ERROR: %s"</span> % <span class="language-syntax-language">str</span>(<span class="language-syntax-text">e</span>.<span class="language-syntax-text">errno</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">e</span>.<span class="language-syntax-text">msg</span> <span class="language-syntax-keyword">is</span> <span class="language-syntax-keyword">not</span> <span class="language-syntax-language">None</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"\t%s"</span> % <span class="language-syntax-text">e</span>.<span class="language-syntax-text">msg</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"Finished OK"</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">0</span>)&nbsp;</span></li></ol></pre><h3><a name="section-node-_Basic%20API%20tutorial_Quadratic%20optimization_Example:%20Quadratic%20objective_Example%20code%20comments">7.5.1.2 Example code comments</a></h3><div class="par"> Most of the functionality in this example has already been explained for  the linear optimization example in Section  <a href="Linear_optimization.html">7.2</a> and it will not be repeated  here. </div>
<div class="par"> This example introduces one new function, <tt><a href="Task_putqobj_.html">Task.putqobj</a></tt>, which  is used to input the quadratic terms of the objective function. </div>
<div class="par"> Since <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> is symmetric only the lower triangular part of  <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> is inputted. The upper part of <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> is computed by  MOSEK using the relation </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math93.svg" alt=" Q_{ij}^{o} = Q_{ji}^{o}. "></td><td></td></tr></table></div><div class="par"> Entries from the upper part may <em>not</em> appear in the input. </div>
<div class="par"> The lower triangular part of the matrix <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> is specified using  an unordered sparse triplet format (for details, see Section  <a href="Conventions_employed_in_the_API.html#sec-matrix-formats">7.13.3</a>): </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/qo1.py">Download qo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="84" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">qsubi</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">2</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">qsubj</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">qval</span>  = [ <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">2</span>, -<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li></ol></pre><div class="par"> Please note that </div>
<ul class="itemize"> 
        <li><div class="par"> only non-zero elements are specified (any element not specified is 0 by definition), </div>
</li>
<li><div class="par"> the order of the non-zero elements is insignificant, and </div>
</li>
<li><div class="par"><em>only</em> the lower triangular part should be specified. </div>
</li>
</ul><div class="par"> Finally, the matrix <img src="math/math77.svg" alt="Q^{o}" style="position : relative; bottom : -3px" class="inline-math inline-math-svg"> is loaded into the task: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/qo1.py">Download qo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="88" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">putqobj</span>(<span class="language-syntax-text">qsubi</span>,<span class="language-syntax-text">qsubj</span>,<span class="language-syntax-text">qval</span>)&nbsp;</span></li></ol></pre><h2><a name="chap:mosekapi:sec:quadratic_constraint">7.5.2 Example: Quadratic constraints</a></h2><div class="par"><a name="@generated-ID:52d09f8"></a><a name="@generated-ID:52d0a30"></a> In this section describes how to solve a problem with quadratic  constraints. Please note that quadratic constraints are subject to the  convexity requirement (<a href="#ch-api-ex-convex-qcqo-less" class="fref">7.5.2</a>). </div>
<div class="par"> Consider the problem: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math94.svg" alt=" \begin{array}{lcccl} \displaystyle{} \mbox{minimize}&\displaystyle{} &\displaystyle{} &\displaystyle{} x_{1}^{2} + 0.1 x_{2}^{2} + x_{3}^{2} - x_{1} x_{3} - x_{2} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} 1 &\displaystyle{} \leq{}&\displaystyle{} x_{1} + x_{2} + x_{3} - x_{1}^{2} - x_{2}^{2} - 0.1 x_{3}^{2} + 0.2 x_{1} x_{3}, &\displaystyle{} \\[0pt] \displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} x \geq{} 0. &\displaystyle{} \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> This is equivalent to </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math95.svg" alt=" \begin{array}{lccl} \displaystyle{} \mbox{minimize}&\displaystyle{} 1/2 x^{T} Q^{o} x + c^{T} x &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} 1/2 x^{T} Q^{0} x + A x &\displaystyle{} \geq{}&\displaystyle{} b, \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> where </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math96.svg" alt=" Q^{o} = \left[{} \begin{array}{ccc} \displaystyle{} 2 &\displaystyle{} 0 &\displaystyle{} -1 \\[0pt] \displaystyle{} 0 &\displaystyle{} 0.2 &\displaystyle{} 0 \\[0pt] \displaystyle{} -1 &\displaystyle{} 0 &\displaystyle{} 2 \\[0pt] \end{array} \right]{}, c = \left[{} \begin{array}{c} \displaystyle{} 0 \\[0pt] \displaystyle{} -1 \\[0pt] \displaystyle{} 0 \\[0pt] \end{array} \right]{}, A = \left[{} \begin{array}{ccc} \displaystyle{} 1 &\displaystyle{} 1 &\displaystyle{} 1 \\[0pt] \end{array} \right]{}, b = 1. "></td><td></td></tr></table></div><div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math97.svg" alt=" Q^{0} = \left[{} \begin{array}{ccc} \displaystyle{} -2 &\displaystyle{} 0 &\displaystyle{} 0.2 \\[0pt] \displaystyle{} 0 &\displaystyle{} -2 &\displaystyle{} 0 \\[0pt] \displaystyle{} 0.2 &\displaystyle{} 0 &\displaystyle{} -0.2 \\[0pt] \end{array} \right]{}. "></td><td></td></tr></table></div><h3><a name="section-node-_Basic%20API%20tutorial_Quadratic%20optimization_Example:%20Quadratic%20constraints_Source%20code">7.5.2.1 Source code</a></h3><div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/qcqo1.py">Download qcqo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  File:    qcqo1.py</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Purpose: Demonstrates how to solve small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#           optimization problem using the MOSEK Python API.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">sys</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">mosek</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># If numpy is installed, use that, otherwise use the </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Mosek's array module.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">numpy</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>,<span class="language-syntax-text">zeros</span>,<span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">ImportError</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">array</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>, <span class="language-syntax-text">zeros</span>, <span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Since the actual value of Infinity is ignores, we define it solely</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># for symbolic purposes:</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">inf</span> = <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Define a stream printer to grab output from MOSEK</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">streamprinter</span>(<span class="language-syntax-text">text</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">write</span>(<span class="language-syntax-text">text</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">flush</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># We might write everything directly as a script, but it looks nicer</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># to create a function.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">main</span> ():&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Make a MOSEK environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span> = <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span> ()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Create a task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span> = <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>(<span class="language-syntax-text">0</span>,<span class="language-syntax-text">0</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Set up and input bounds and linear coefficients</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkc</span>   = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blc</span>   = [ <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">buc</span>   = [ <span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkx</span>   = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blx</span>   = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bux</span>   = [ <span class="language-syntax-text">inf</span>,  <span class="language-syntax-text">inf</span>, <span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">c</span>     = [ <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">asub</span>  = [   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]) ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">aval</span>  = [  <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]),  <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]),  <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]) ]&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkc</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">NUMANZ</span> = <span class="language-syntax-text">3</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The constraints will initially have no bounds. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">     &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">#Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">#Optionally add a constant term to the objective. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcfix</span>(<span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numvar</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the linear term c_j in the objective.</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">var</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Input column j of A </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putacol</span>(<span class="language-syntax-text">j</span>,                  <span class="language-syntax-comment"># Variable (column) index.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">j</span>],            <span class="language-syntax-comment"># Row index of non-zeros in column j.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">j</span>])            <span class="language-syntax-comment"># Non-zero Values of column j. </span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">con</span>,<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li><li><span class="language-syntax-text">       &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Set up and input quadratic objective</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubi</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">2</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubj</span> = [ <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">0</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qval</span>  = [ <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">2</span>, -<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putqobj</span>(<span class="language-syntax-text">qsubi</span>,<span class="language-syntax-text">qsubj</span>,<span class="language-syntax-text">qval</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The lower triangular part of the Q^0</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># matrix in the first constraint is specified.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># This corresponds to adding the term</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># - x0^2 - x1^2 - 0.1 x2^2 + 0.2 x0 x2</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubi</span> = [  <span class="language-syntax-text">0</span>,    <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">2</span>,   <span class="language-syntax-text">2</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qsubj</span> = [  <span class="language-syntax-text">0</span>,    <span class="language-syntax-text">1</span>,    <span class="language-syntax-text">2</span>,   <span class="language-syntax-text">0</span>   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">qval</span>  = [ -<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, -<span class="language-syntax-text">0</span>.<span class="language-syntax-text">2</span>, <span class="language-syntax-text">0</span>.<span class="language-syntax-text">2</span> ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># put Q^0 in constraint with index 0. </span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putqconk</span> (<span class="language-syntax-text">0</span>, <span class="language-syntax-text">qsubi</span>,<span class="language-syntax-text">qsubj</span>, <span class="language-syntax-text">qval</span>); &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Input the objective sense (minimize/maximize)</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">minimize</span>)&nbsp;</span></li><li><span class="language-syntax-text">       &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Optimize the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># about the solution for debugging purposes</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">solutionsummary</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">msg</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">prosta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getprosta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">solsta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getsolsta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Output a solution</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">optimal</span> <span class="language-syntax-keyword">or</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_optimal</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Optimal solution: %s"</span> % <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">dual_infeas_cer</span>: &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_dual_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span>  <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">unknown</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Unknown solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">else</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Other solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># call the main function</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">main</span> ()&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Exception</span>, (<span class="language-syntax-text">code</span>,<span class="language-syntax-text">msg</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"ERROR: %s"</span> % <span class="language-syntax-language">str</span>(<span class="language-syntax-text">code</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">msg</span> <span class="language-syntax-keyword">is</span> <span class="language-syntax-keyword">not</span> <span class="language-syntax-language">None</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"\t%s"</span> % <span class="language-syntax-text">msg</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">0</span>)&nbsp;</span></li></ol></pre><div class="par"> The only new function introduced in this example is  <tt><a href="Task_putqconk_.html">Task.putqconk</a></tt>, which is used to add quadratic terms to the  constraints. While <tt><a href="Task_putqconk_.html">Task.putqconk</a></tt> add quadratic terms to a  specific constraint, it is also possible to input all quadratic terms  in all constraints in one chunk using the <tt><a href="Task_putqcon_.html">Task.putqcon</a></tt> function. </div>

      
    </div>

    <div style="height : 1em;">&nbsp;</div>
    <hr>
    <ul class="pager">
      
        <li class="previous"><a href="Semidefinite_optimization.html">Previous : Semidefinite optimization</a></li>
      
      
        <li class="next"><a href="The_solution_summary.html">Next : The solution summary</a></li>
      
    </ul>
    <hr>

    
    <div id="template-footer" style="text-align : right;">
      Copyright &copy; Mosek ApS.
    </div>

    <script src="script/jquery-1.9.0.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Google Analytics tracking stuff-->
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript">
        try
        {
            var pageTracker = _gat._getTracker("UA-3864116-1");
            pageTracker._trackPageview();
        } 
        catch(err) 
        {}
    </script>

  </div>
</body>

</html>


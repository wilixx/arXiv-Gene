<!doctype html>

<html>
<head>  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title> Conic quadratic optimization </title>

  <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">

<!-- Stylesheet and script related to page content -->
  <link rel="stylesheet" type="text/css" media="screen,portable" href="style/style.css">
  <link rel="stylesheet" type="text/css" media="print" href="style/print-style.css">

  <link rel="stylesheet" type="text/css" href="style/content-formatting.css">

  <link href="images/favicon.png" rel="shortcut icon"> </script>

  <link rel="next" href="Semidefinite_optimization.html">
  <link rel="prev" href="Linear_optimization.html">
  <link rel="start" href="index.html">

  <style>
    .breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .pager      div.linebreak { display : inline; width : 1ex; height : 0px; }
    .hacked-breadcrumb { font-size : small; color : gray; }
    .hacked-breadcrumb span.divider { padding : 0px 5px 0px 5px; }
    .hacked-breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .nav        div.linebreak { display : inline; width : 1ex; height : 0px; }
  </style>

  <script type="text/javascript">
    function body_onkeypress(ev)
    {
       var keynum;
       if (window.event) keynum = ev.keyCode;
       else              keynum = ev.which;
       
       if      (keynum == 84 || keynum == 116)
       {
         
           document.location = "index.html";
         
       }
       else if (keynum == 73 || keynum == 105)
       {
         
           document.location = "xref.html";
         
       }
       else
         return keynum;
    }
  </script>
</head>
<body onkeypress="return body_onkeypress(event);">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">      
          <a class="brand" href="http://www.mosek.com">www.mosek.com</a>
          <ul class="nav">
            <li><a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a></li>
          </ul>
          
          <ul class="nav pull-right">
            <li><a href="xref.html">Index</a></li>
          </ul>
          
        </div>
        
        <div class="container hacked-breadcrumb">      
            
              
                
                <a href="index.html"> The MOSEK Python optimizer API manual <div class="linebreak"></div> Version 7.0 (Revision 97) </a><span class="divider">&gt;</span>
              
              <a href="Basic_API_tutorial.html">Basic API tutorial</a><span class="divider">&gt;</span>
            
            Conic quadratic optimization
        </div>
        
      </div>
    </div>
  
  <div class="container" style="margin-top : 50px;">
    <div class="container">
      <ul class="pager">
        
          <li class="previous"><a href="Linear_optimization.html">&lt;&lt;&nbsp;Linear optimization</a></li>
        
        
          <li class="next"><a href="Semidefinite_optimization.html">Semidefinite optimization&nbsp;&gt;&gt;</a></li>
        
      </ul>
    </div>
    
    <hr>
    
    <h1> Conic quadratic optimization </h2>


    <div style="height : 1em;">&nbsp;</div>

    <div class="container">
      
        <div class="split:no split:no"><div class="par"><a name="@generated-ID:7f36c8c09398"></a><a name="@generated-ID:7f36c8c093d0"></a><a name="@generated-ID:7f36c8c09408"></a> Conic optimization is a generalization of linear optimization, allowing constraints of the type </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math38.svg" alt=" x^{t} \in{}\mathcal{C}_{t}, "></td><td></td></tr></table></div><div class="par"> where <img src="math/math39.svg" alt="x^{t}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> is a subset of the problem variables and <img src="math/math40.svg" alt="\mathcal{C}_{t}" style="position : relative; bottom : -2px" class="inline-math inline-math-svg"> is a convex cone.  Actually, since the set <img src="math/math41.svg" alt="\mathbb{R}^{n}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> of real numbers is also a convex cone, all variables  can in fact be partitioned into subsets belonging to separate convex cones, simply stated <img src="math/math42.svg" alt="x \in{}\mathcal{C}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">.  <div class="linebreak"></div><div class="linebreak"></div> MOSEK can solve conic quadratic optimization problems of the form </div>
<div class="math-equation"><a name="ch-matlab-sec-conicoptimization-eq-primal"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math43.svg" alt=" \begin{array}{lccccl} \displaystyle{} \mbox{minimize}&\displaystyle{} &\displaystyle{} &\displaystyle{} c^{T}x + c^{f} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} l^{c} &\displaystyle{} \leq{}&\displaystyle{} A x &\displaystyle{} \leq{}&\displaystyle{} u^{c}, \\[0pt] \displaystyle{} &\displaystyle{} l^{x} &\displaystyle{} \leq{}&\displaystyle{} x &\displaystyle{} \leq{}&\displaystyle{} u^{x}, \\[0pt] \displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} x \in{}\mathcal{C}, &\displaystyle{} &\displaystyle{} \\[0pt] \end{array} "></td><td width="0px">(7.3.1)</td></tr></table></div><div class="par"> where the domain restriction, <img src="math/math42.svg" alt="x \in{}\mathcal{C}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg">, implies that all variables  are partitioned into convex cones </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math44.svg" alt=" x = (x^{0}, x^{1}, \ldots{} , x^{p-1}),{\ }\mbox{with } x^{t}\in{}\mathcal{C}_{t} \subseteq{}\mathbb{R}^{n_{t}}. "></td><td></td></tr></table></div><div class="par"> For convenience, the user only specify subsets of variables <img src="math/math39.svg" alt="x^{t}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> belonging to cones <img src="math/math40.svg" alt="\mathcal{C}_{t}" style="position : relative; bottom : -2px" class="inline-math inline-math-svg"> different from the set <img src="math/math45.svg" alt="\mathbb{R}^{n_{t}}" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> of real numbers.  These cones can be a: </div>
<ul class="itemize"> 
  <li><div class="par"> Quadratic cone: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math46.svg" alt=" \mathcal{Q}_{n} = \left\{{} x \in{}\mathbb{R}^{n}: x_{0} \geq{}\sqrt{\sum_{j=1}^{n-1} x_{j}^{2}}\right\}{}. "></td><td></td></tr></table></div></li>
<li><div class="par"> Rotated quadratic cone: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math47.svg" alt=" \mathcal{Q}_{n}^{r} = \left\{{} x \in{}\mathbb{R}^{n}: 2 x_{0} x_{1} \geq{}\sum_{j=2}^{n-1} x_{j}^{2},{\ } x_{0}\geq{} 0,{\ } x_{1} \geq{} 0 \right\}{}. "></td><td></td></tr></table></div></li>
</ul><div class="par"> From these definition it follows that </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math48.svg" alt=" (x_{4}, x_{0}, x_{2}) \in{}\mathcal{Q}_{3}, "></td><td></td></tr></table></div><div class="par"> is equivalent to </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math49.svg" alt=" x_{4} \geq{}\sqrt{x_{0}^{2} + x_{2}^{2}}. "></td><td></td></tr></table></div><div class="par"> Furthermore, each variable may belong to one cone at most. The constraint <img src="math/math50.svg" alt="x_{i} - x_{j} = 0" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"> would however  allow <img src="math/math51.svg" alt="x_{i}" style="position : relative; bottom : -2px" class="inline-math inline-math-svg"> and <img src="math/math52.svg" alt="x_{j}" style="position : relative; bottom : -4px" class="inline-math inline-math-svg"> to belong to different cones with same effect. </div>
</div>
      

      
        <h2><a name="section-node-_Basic%20API%20tutorial_Conic%20quadratic%20optimization_Example:%20Conic%20quadratic%20optimization">7.3.1 Example: Conic quadratic optimization</a></h2><div class="par"> The problem </div>
<div class="math-equation"><a name="ch-matlab-sec-conic-eq-ex1"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math53.svg" alt=" \begin{array}{lccccc} \displaystyle{} \mbox{minimize}&\displaystyle{} x_{3} + x_{4} + x_{5} &\displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} x_{0} + x_{1} + 2 x_{2} &\displaystyle{} = &\displaystyle{} 1, &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} &\displaystyle{} x_{0},x_{1},x_{2} &\displaystyle{} \geq{}&\displaystyle{} 0, &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} &\displaystyle{} x_{3} \geq{}\sqrt{x_{0}^{2} + x_{1}^{2}}, &\displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} &\displaystyle{} 2 x_{4} x_{5} \geq{} x_{2}^{2}. &\displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} \\[0pt] \end{array} "></td><td width="0px">(7.3.1.1)</td></tr></table></div><div class="par"> is an example of a conic quadratic optimization problem. The problem includes a set of linear constraints, a quadratic cone and a rotated quadratic cone. </div>
<h3><a name="section-node-_Basic%20API%20tutorial_Conic%20quadratic%20optimization_Example:%20Conic%20quadratic%20optimization_Source%20code">7.3.1.1 Source code</a></h3><div class="par"><a name="@generated-ID:5500100"></a><a name="@generated-ID:5500138"></a><a name="@generated-ID:5500170"></a></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/cqo1.py">Download cqo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  File:    cqo1.py</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#  Purpose: Demonstrates how to solve small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">#           optimization problem using the MOSEK Python API.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">##</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">sys</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">import</span> <span class="language-syntax-text">mosek</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># If numpy is installed, use that, otherwise use the </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Mosek's array module.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">numpy</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>,<span class="language-syntax-text">zeros</span>,<span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">ImportError</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">from</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">array</span> <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">array</span>, <span class="language-syntax-text">zeros</span>, <span class="language-syntax-text">ones</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Since the actual value of Infinity is ignores, we define it solely</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># for symbolic purposes:</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">inf</span> = <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># Define a stream printer to grab output from MOSEK</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">streamprinter</span>(<span class="language-syntax-text">text</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">write</span>(<span class="language-syntax-text">text</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">stdout</span>.<span class="language-syntax-text">flush</span>()&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># We might write everything directly as a script, but it looks nicer</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># to create a function.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">def</span> <span class="language-syntax-text">main</span> ():&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Make a MOSEK environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span> = <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Env</span> ()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the environment</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">env</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Create a task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span> = <span class="language-syntax-text">env</span>.<span class="language-syntax-text">Task</span>(<span class="language-syntax-text">0</span>,<span class="language-syntax-text">0</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Attach a printer to the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">set_Stream</span> (<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">log</span>, <span class="language-syntax-text">streamprinter</span>)&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkc</span> = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fx</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blc</span> = [ <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">buc</span> = [ <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">c</span>   = [               <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bkx</span> = [ <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">lo</span>,&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fr</span>,<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fr</span>,<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">boundkey</span>.<span class="language-syntax-text">fr</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">blx</span> = [               <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,              <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                       -<span class="language-syntax-text">inf</span>,             -<span class="language-syntax-text">inf</span>,             -<span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">bux</span> = [               <span class="language-syntax-text">inf</span>,              <span class="language-syntax-text">inf</span>,              <span class="language-syntax-text">inf</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">inf</span>,              <span class="language-syntax-text">inf</span>,              <span class="language-syntax-text">inf</span> ]&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">asub</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>]),   <span class="language-syntax-text">array</span>([<span class="language-syntax-text">0</span>])   ]&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">aval</span> = [ <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]), <span class="language-syntax-text">array</span>([<span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>]), <span class="language-syntax-text">array</span>([<span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>]) ]&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">len</span>(<span class="language-syntax-text">bkc</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">NUMANZ</span> = <span class="language-syntax-text">4</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The constraints will initially have no bounds. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcons</span>(<span class="language-syntax-text">numcon</span>)&nbsp;</span></li><li><span class="language-syntax-text">     &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">#Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># The variables will initially be fixed at zero (x=0). </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendvars</span>(<span class="language-syntax-text">numvar</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numvar</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the linear term c_j in the objective.</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putcj</span>(<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Set the bounds on variable j</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># blx[j] &lt;= x_j &lt;= bux[j] </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">var</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],<span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">j</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">len</span>(<span class="language-syntax-text">aval</span>)):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment"># Input column j of A </span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putacol</span>(<span class="language-syntax-text">j</span>,                  <span class="language-syntax-comment"># Variable (column) index.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">asub</span>[<span class="language-syntax-text">j</span>],            <span class="language-syntax-comment"># Row index of non-zeros in column j.</span>&nbsp;</span></li><li><span class="language-syntax-text">                 <span class="language-syntax-text">aval</span>[<span class="language-syntax-text">j</span>])            <span class="language-syntax-comment"># Non-zero Values of column j. </span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">for</span> <span class="language-syntax-text">i</span> <span class="language-syntax-keyword">in</span> <span class="language-syntax-text">range</span>(<span class="language-syntax-text">numcon</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putbound</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">accmode</span>.<span class="language-syntax-text">con</span>,<span class="language-syntax-text">i</span>,<span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],<span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>])&nbsp;</span></li><li><span class="language-syntax-text">        &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Input the cones</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcone</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">conetype</span>.<span class="language-syntax-text">quad</span>,&nbsp;</span></li><li><span class="language-syntax-text">                  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                  [ <span class="language-syntax-text">3</span>, <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span> ])&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcone</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">conetype</span>.<span class="language-syntax-text">rquad</span>,&nbsp;</span></li><li><span class="language-syntax-text">                  <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                  [ <span class="language-syntax-text">4</span>, <span class="language-syntax-text">5</span>, <span class="language-syntax-text">2</span> ])&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Input the objective sense (minimize/maximize)</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">putobjsense</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">objsense</span>.<span class="language-syntax-text">minimize</span>)&nbsp;</span></li><li><span class="language-syntax-text">       &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Optimize the task</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">optimize</span>()&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># about the solution for debugging purposes</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">solutionsummary</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">streamtype</span>.<span class="language-syntax-text">msg</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">prosta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getprosta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">solsta</span> = <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getsolsta</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment"># Output a solution</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">xx</span> = <span class="language-syntax-text">zeros</span>(<span class="language-syntax-text">numvar</span>, <span class="language-syntax-text">float</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">task</span>.<span class="language-syntax-text">getxx</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">soltype</span>.<span class="language-syntax-text">itr</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">optimal</span> <span class="language-syntax-keyword">or</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_optimal</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Optimal solution: %s"</span> % <span class="language-syntax-text">xx</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">dual_infeas_cer</span>: &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_dual_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span>  <span class="language-syntax-text">solsta</span> == <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">near_prim_infeas_cer</span>:&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Primal or dual infeasibility.\n"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">elif</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">solsta</span>.<span class="language-syntax-text">unknown</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Unknown solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">else</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span>(<span class="language-syntax-string">"Other solution status"</span>)&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"># call the main function</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">try</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">main</span> ()&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span> <span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">Exception</span>, (<span class="language-syntax-text">code</span>,<span class="language-syntax-text">msg</span>):&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"ERROR: %s"</span> % <span class="language-syntax-language">str</span>(<span class="language-syntax-text">code</span>)&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> <span class="language-syntax-text">msg</span> <span class="language-syntax-keyword">is</span> <span class="language-syntax-keyword">not</span> <span class="language-syntax-language">None</span>:&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">print</span> <span class="language-syntax-string">"\t%s"</span> % <span class="language-syntax-text">msg</span>&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">except</span>:&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">import</span> <span class="language-syntax-text">traceback</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">traceback</span>.<span class="language-syntax-text">print_exc</span>()&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">1</span>)&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">sys</span>.<span class="language-syntax-text">exit</span>(<span class="language-syntax-text">0</span>)&nbsp;</span></li></ol></pre><h3><a name="section-node-_Basic%20API%20tutorial_Conic%20quadratic%20optimization_Example:%20Conic%20quadratic%20optimization_Source%20code%20comments">7.3.1.2 Source code comments</a></h3><div class="par"> The only new function introduced in the example is <tt><a href="Task_appendcone_.html">Task.appendcone</a></tt>, which is called here: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/cqo1.py">Download cqo1.py</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="86" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">task</span>.<span class="language-syntax-text">appendcone</span>(<span class="language-syntax-text">mosek</span>.<span class="language-syntax-text">conetype</span>.<span class="language-syntax-text">quad</span>,&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                [ <span class="language-syntax-text">3</span>, <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span> ])&nbsp;</span></li></ol></pre><div class="par"> The first argument selects the type of quadratic cone. Either <tt><a href="Cone_types.html#mskitem:conetype.quad">conetype.quad</a></tt> for a <em>quadratic cone</em> or  <tt><a href="Cone_types.html#mskitem:conetype.rquad">conetype.rquad</a></tt> for a <em>rotated quadratic cone</em>.  The cone parameter <tt>0.0</tt> is currently not  used by MOSEK â€” simply passing <img src="math/math54.svg" alt="0.0" style="position : relative; bottom : -0px" class="inline-math inline-math-svg"> will work. </div>
<div class="par"> The last argument is a list of indexes of the variables in the cone. </div>

      
    </div>

    <div style="height : 1em;">&nbsp;</div>
    <hr>
    <ul class="pager">
      
        <li class="previous"><a href="Linear_optimization.html">Previous : Linear optimization</a></li>
      
      
        <li class="next"><a href="Semidefinite_optimization.html">Next : Semidefinite optimization</a></li>
      
    </ul>
    <hr>

    
    <div id="template-footer" style="text-align : right;">
      Copyright &copy; Mosek ApS.
    </div>

    <script src="script/jquery-1.9.0.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Google Analytics tracking stuff-->
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript">
        try
        {
            var pageTracker = _gat._getTracker("UA-3864116-1");
            pageTracker._trackPageview();
        } 
        catch(err) 
        {}
    </script>

  </div>
</body>

</html>